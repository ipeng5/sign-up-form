<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="img/favicon.ico">
    <title>Sign-up | SOIAN</title>
</head>

<body>
    <div class="left">
        <div class="brand">
            <svg clip-rule="evenodd" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2"
                viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="m3.514 6.636c-.317.179-.514.519-.514.887v8.95c0 .37.197.708.514.887 1.597.901 6.456 3.639 8.005 4.512.152.085.319.128.487.128.164 0 .328-.041.477-.123 1.549-.855 6.39-3.523 7.994-4.408.323-.177.523-.519.523-.891v-9.055c0-.368-.197-.708-.515-.887-1.595-.899-6.444-3.632-7.999-4.508-.151-.085-.319-.128-.486-.128-.168 0-.335.043-.486.128-1.555.876-6.405 3.609-8 4.508zm15.986 2.115v7.525l-6.75 3.722v-7.578zm-14.264-1.344 6.764-3.813 6.801 3.834-6.801 3.716z"
                    fill-rule="nonzero" />
            </svg>
            <p class="brand-name">SOIAN</p>
        </div>
    </div>
    <div class="container">
        <div class="intro">
            <p>This is not a real online service! You know you need something like this in your life to help you realize
                your deepest dreams. Sign up now to get started.</p>
            <p class="promote">You know you want to.</p>
        </div>
        <form action="#" method="get">
            <p class="title">Let's do this!</p>
            <div class="form">
                <div class="input-box">
                    <label class="input-label" for="first-name">First name</label>
                    <input type="text" id="first-name" name="firstname" required>
                    <p id="first-name-error" class="error">Please enter your first name</p>
                </div>
                <div class="input-box">
                    <label class="input-label" for="last-name">Last name</label>
                    <input type="text" id="last-name" name="lastname" required>
                    <p id="last-name-error" class="error">Please enter your last name</p>
                </div>
                <div class="input-box">
                    <label class="input-label" for="email">Email</label>
                    <input type="email" id="email" name="email" required
                        pattern="^([a-z\d\.-]+)@([a-z\d-]+)\.([a-z]{2,8})(\.[a-z]{2,8})?$">
                    <p id="email-error" class="error">Please enter a valid email, e.g. me@mydomain.com</p>
                </div>
                <div class="input-box">
                    <label class="input-label" for="phone">Phone number</label>
                    <input type="tel" id="phone" name="phone" pattern='[0-9]{10}' required>
                    <p id=" phone-error" class="error">please enter a valid phone number (10 digits)</p>
                </div>
                <div class="input-box">
                    <label class="input-label" for="password">Password</label>
                    <input type="password" id="password" name="password" minlength="8" required>
                    <p id="password-error" class="error">Password must be at least 8 characters</p>
                </div>
                <div class="input-box">
                    <label class="input-label" for="confirm">Confirm password</label>
                    <input type="password" id="confirm" name="confirm" minlength="8" required>
                    <p id="confirm-error" class="error">Passwords do not match</p>
                </div>
            </div>
            <div class="create-acc">
                <button type="submit">Create account</button>
            </div>
        </form>

        <div class="login">
            <p>Already have an account?</p><a href="#">Log in</a>
        </div>
    </div>
    <script>
        const form = document.querySelector("form")
        const inputs = document.querySelectorAll("input");
        const password = document.querySelector("#password");
        const confirm = document.querySelector("#confirm");
        const patterns = {
            firstname: /.+/,
            lastname: /.+/,
            email: /^([a-z\d\.-]+)@([a-z\d-]+)\.([a-z]{2,8})(\.[a-z]{2,8})?$/,
            phone: /^\d{10}$/,
            password: /^[@-\w]{8,}$/,
            confirm: /^[@-\w]{8,}$/,
        }
        function validate(field, regex) {
            if (regex.test(field.value)) {
                field.classList = "valid";
            } else {
                field.classList = "invalid";
            }
        }
        inputs.forEach((input) => {
            input.addEventListener("keyup", (e) => {
                validate(e.target, patterns[e.target.attributes.name.value])
            })
        })

        confirm.addEventListener("keyup", () => {
            if (confirm.value !== password.value) {
                confirm.classList = "invalid";
            } else {
                confirm.classList = "valid";
            }
        })

        form.addEventListener("submit", (e) => {
            if (password.value !== confirm.value) {
                e.preventDefault();
            } else {
                e.submit()
            }
        })
    </script>
</body>

</html>